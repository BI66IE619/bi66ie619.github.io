<!doctype html>
<html lang="en">
<meta charset="utf-8" />
<title>UV loader</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<script src="/active/uv/uv.bundle.js"></script>
<script src="/active/uv/uv.config.js"></script>
<script type="module">
  import { registerSW } from "/active/prxy/register-sw.mjs";
  (async () => {
    try { await registerSW(); } catch (e) { console.error("SW register failed:", e); }
    const raw = new URL(location.href).searchParams.get("u");
    if (!raw) { document.body.textContent = "Missing ?u=..."; return; }
    // Wait for SW to be ready, then send the user to the proxied URL
    await navigator.serviceWorker.ready;
    const encoded = __uv$config.prefix + __uv$config.encodeUrl(raw);
    location.replace(encoded);
  })();
</script>
<body>Loadingâ€¦</body>
</html>
